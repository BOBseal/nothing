import React,{useEffect, useState} from 'react'
import Image from 'next/image'
import { useBadgerContext } from '@/Context';

const itemsPerPage = 6;

const ResultsCard = ({data, crrPage}) => {
  const {handlerCard,setCurrentId,selectCard, setCardSelected, setCurrentIds} = useBadgerContext()
  const [sortedData , setStData] = useState([])
  const startIndex = (crrPage - 1) * itemsPerPage;
  const endIndex = startIndex + itemsPerPage;
  
   useEffect(() => {
    setStData(data)
   }, [data]) 
   
  return (
  
    <ul className={`bg-[#F5BE46] bg-opacity-40 shadow pl-8 pr-8 h-full -z-20 pt-6 pb-6 w-[35vh] rounded-xl border-[5px] border-[#91181D] gap-2 md:w-[600px] md:h-[80vh] justify-center items-center lg:w-[1000px]`}>
  <div className={`grid grid-cols-1 md:grid-cols-2 gap-4`}>
    {sortedData.slice(startIndex, endIndex).map((coin) => (
      <li key={coin.id} onClick={() => setCurrentId(coin.id)} className={`shadow-lg drop-shadow border-[4px] border-[#91181D] md:h-[210px] rounded-xl p-4 justify-between h-[15vh] flex flex-col items-center bg`}>
        <div onClick={handlerCard} className='w-4/12 flex items-center justify-center border-[2px] rounded-full p-1'>
          <img src={coin.image} alt={`${coin.name} Logo`} className='rounded-full w-10 h-10 md:w-16 md:h-16' />
        </div>
        <div className='flex gap-1 justify-evenly items-center text-center flex-wrap'>
          <p className='font-semibold'>{coin.symbol.toUpperCase()}</p>
          <p>${coin.current_price}</p>
          {/* Add more fields you want to display */}
        </div>
      </li>
    ))}
  </div>
</ul>
    )
}

export default ResultsCard



/*const data = [[
  {
    "id": "bitcoin",
    "symbol": "btc",
    "name": "Bitcoin",
    "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
    "current_price": 26068,
    "market_cap": 507468777822,
    "market_cap_rank": 1,
    "fully_diluted_valuation": 547595817013,
    "total_volume": 29672064875,
    "high_24h": 27973,
    "low_24h": 25649,
    "price_change_24h": -1880.4148929123949,
    "price_change_percentage_24h": -6.7282,
    "market_cap_change_24h": -36239499665.25897,
    "market_cap_change_percentage_24h": -6.66525,
    "circulating_supply": 19461150,
    "total_supply": 21000000,
    "max_supply": 21000000,
    "ath": 69045,
    "ath_change_percentage": -62.51878,
    "ath_date": "2021-11-10T14:24:11.849Z",
    "atl": 67.81,
    "atl_change_percentage": 38064.28486,
    "atl_date": "2013-07-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:40.323Z",
    "price_change_percentage_1h_in_currency": 0.5417960108698266
  },
  {
    "id": "bitcoin",
    "symbol": "btc",
    "name": "Bitcoin",
    "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
    "current_price": 26068,
    "market_cap": 507468777822,
    "market_cap_rank": 1,
    "fully_diluted_valuation": 547595817013,
    "total_volume": 29672064875,
    "high_24h": 27973,
    "low_24h": 25649,
    "price_change_24h": -1880.4148929123949,
    "price_change_percentage_24h": -6.7282,
    "market_cap_change_24h": -36239499665.25897,
    "market_cap_change_percentage_24h": -6.66525,
    "circulating_supply": 19461150,
    "total_supply": 21000000,
    "max_supply": 21000000,
    "ath": 69045,
    "ath_change_percentage": -62.51878,
    "ath_date": "2021-11-10T14:24:11.849Z",
    "atl": 67.81,
    "atl_change_percentage": 38064.28486,
    "atl_date": "2013-07-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:40.323Z",
    "price_change_percentage_1h_in_currency": 0.5417960108698266
  },
  {
    "id": "bitcoin",
    "symbol": "btc",
    "name": "Bitcoin",
    "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
    "current_price": 26068,
    "market_cap": 507468777822,
    "market_cap_rank": 1,
    "fully_diluted_valuation": 547595817013,
    "total_volume": 29672064875,
    "high_24h": 27973,
    "low_24h": 25649,
    "price_change_24h": -1880.4148929123949,
    "price_change_percentage_24h": -6.7282,
    "market_cap_change_24h": -36239499665.25897,
    "market_cap_change_percentage_24h": -6.66525,
    "circulating_supply": 19461150,
    "total_supply": 21000000,
    "max_supply": 21000000,
    "ath": 69045,
    "ath_change_percentage": -62.51878,
    "ath_date": "2021-11-10T14:24:11.849Z",
    "atl": 67.81,
    "atl_change_percentage": 38064.28486,
    "atl_date": "2013-07-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:40.323Z",
    "price_change_percentage_1h_in_currency": 0.5417960108698266
  },
  {
    "id": "bitcoin",
    "symbol": "btc",
    "name": "Bitcoin",
    "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
    "current_price": 26068,
    "market_cap": 507468777822,
    "market_cap_rank": 1,
    "fully_diluted_valuation": 547595817013,
    "total_volume": 29672064875,
    "high_24h": 27973,
    "low_24h": 25649,
    "price_change_24h": -1880.4148929123949,
    "price_change_percentage_24h": -6.7282,
    "market_cap_change_24h": -36239499665.25897,
    "market_cap_change_percentage_24h": -6.66525,
    "circulating_supply": 19461150,
    "total_supply": 21000000,
    "max_supply": 21000000,
    "ath": 69045,
    "ath_change_percentage": -62.51878,
    "ath_date": "2021-11-10T14:24:11.849Z",
    "atl": 67.81,
    "atl_change_percentage": 38064.28486,
    "atl_date": "2013-07-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:40.323Z",
    "price_change_percentage_1h_in_currency": 0.5417960108698266
  },
  {
    "id": "bitcoin",
    "symbol": "btc",
    "name": "Bitcoin",
    "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
    "current_price": 26068,
    "market_cap": 507468777822,
    "market_cap_rank": 1,
    "fully_diluted_valuation": 547595817013,
    "total_volume": 29672064875,
    "high_24h": 27973,
    "low_24h": 25649,
    "price_change_24h": -1880.4148929123949,
    "price_change_percentage_24h": -6.7282,
    "market_cap_change_24h": -36239499665.25897,
    "market_cap_change_percentage_24h": -6.66525,
    "circulating_supply": 19461150,
    "total_supply": 21000000,
    "max_supply": 21000000,
    "ath": 69045,
    "ath_change_percentage": -62.51878,
    "ath_date": "2021-11-10T14:24:11.849Z",
    "atl": 67.81,
    "atl_change_percentage": 38064.28486,
    "atl_date": "2013-07-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:40.323Z",
    "price_change_percentage_1h_in_currency": 0.5417960108698266
  },
  {
    "id": "bitcoin",
    "symbol": "btc",
    "name": "Bitcoin",
    "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
    "current_price": 26068,
    "market_cap": 507468777822,
    "market_cap_rank": 1,
    "fully_diluted_valuation": 547595817013,
    "total_volume": 29672064875,
    "high_24h": 27973,
    "low_24h": 25649,
    "price_change_24h": -1880.4148929123949,
    "price_change_percentage_24h": -6.7282,
    "market_cap_change_24h": -36239499665.25897,
    "market_cap_change_percentage_24h": -6.66525,
    "circulating_supply": 19461150,
    "total_supply": 21000000,
    "max_supply": 21000000,
    "ath": 69045,
    "ath_change_percentage": -62.51878,
    "ath_date": "2021-11-10T14:24:11.849Z",
    "atl": 67.81,
    "atl_change_percentage": 38064.28486,
    "atl_date": "2013-07-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:40.323Z",
    "price_change_percentage_1h_in_currency": 0.5417960108698266
  },
  {
    "id": "ethereum",
    "symbol": "eth",
    "name": "Ethereum",
    "image": "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880",
    "current_price": 1665.77,
    "market_cap": 200350122130,
    "market_cap_rank": 2,
    "fully_diluted_valuation": 200350122130,
    "total_volume": 17837102578,
    "high_24h": 1740.45,
    "low_24h": 1576.13,
    "price_change_24h": -72.46219643711424,
    "price_change_percentage_24h": -4.16874,
    "market_cap_change_24h": -8380255661.24292,
    "market_cap_change_percentage_24h": -4.01487,
    "circulating_supply": 120053867.802792,
    "total_supply": 120053867.802792,
    "max_supply": null,
    "ath": 4878.26,
    "ath_change_percentage": -66.0567,
    "ath_date": "2021-11-10T14:24:19.604Z",
    "atl": 0.432979,
    "atl_change_percentage": 382330.37702,
    "atl_date": "2015-10-20T00:00:00.000Z",
    "roi": {
      "times": 84.42439813112641,
      "currency": "btc",
      "percentage": 8442.439813112642
    },
    "last_updated": "2023-08-18T17:55:31.484Z",
    "price_change_percentage_1h_in_currency": 0.35275545224400423
  },
  {
    "id": "dogecoin",
    "symbol": "doge",
    "name": "Dogecoin",
    "image": "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256",
    "current_price": 0.063043,
    "market_cap": 8870909328,
    "market_cap_rank": 9,
    "fully_diluted_valuation": 8870917527,
    "total_volume": 920916555,
    "high_24h": 0.06617,
    "low_24h": 0.059074,
    "price_change_24h": -0.002630593181056129,
    "price_change_percentage_24h": -4.00555,
    "market_cap_change_24h": -348710282.8266792,
    "market_cap_change_percentage_24h": -3.78226,
    "circulating_supply": 140642886383.705,
    "total_supply": 140643016383.705,
    "max_supply": null,
    "ath": 0.731578,
    "ath_change_percentage": -91.4437,
    "ath_date": "2021-05-08T05:08:23.458Z",
    "atl": 0.0000869,
    "atl_change_percentage": 71929.1567,
    "atl_date": "2015-05-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:37.068Z",
    "price_change_percentage_1h_in_currency": 0.6779365911087883
  },
  {
    "id": "pepe",
    "symbol": "pepe",
    "name": "Pepe",
    "image": "https://assets.coingecko.com/coins/images/29850/large/pepe-token.jpeg?1682922725",
    "current_price": 0.00000109,
    "market_cap": 457764967,
    "market_cap_rank": 85,
    "fully_diluted_valuation": 457764967,
    "total_volume": 152023532,
    "high_24h": 0.00000119,
    "low_24h": 0.00000101,
    "price_change_24h": -8.7555141682e-8,
    "price_change_percentage_24h": -7.43169,
    "market_cap_change_24h": -35197303.04990578,
    "market_cap_change_percentage_24h": -7.13996,
    "circulating_supply": 420690000000000,
    "total_supply": 420690000000000,
    "max_supply": 420690000000000,
    "ath": 0.00000431,
    "ath_change_percentage": -74.69954,
    "ath_date": "2023-05-05T16:50:45.302Z",
    "atl": 5.5142e-8,
    "atl_change_percentage": 1876.18149,
    "atl_date": "2023-04-18T02:14:41.591Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:42.230Z",
    "price_change_percentage_1h_in_currency": 2.3233363583072553
  }
],

[
  {
    "id": "bitcoin",
    "symbol": "btc",
    "name": "Bitcoin",
    "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
    "current_price": 26068,
    "market_cap": 507468777822,
    "market_cap_rank": 1,
    "fully_diluted_valuation": 547595817013,
    "total_volume": 29672064875,
    "high_24h": 27973,
    "low_24h": 25649,
    "price_change_24h": -1880.4148929123949,
    "price_change_percentage_24h": -6.7282,
    "market_cap_change_24h": -36239499665.25897,
    "market_cap_change_percentage_24h": -6.66525,
    "circulating_supply": 19461150,
    "total_supply": 21000000,
    "max_supply": 21000000,
    "ath": 69045,
    "ath_change_percentage": -62.51878,
    "ath_date": "2021-11-10T14:24:11.849Z",
    "atl": 67.81,
    "atl_change_percentage": 38064.28486,
    "atl_date": "2013-07-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:40.323Z",
    "price_change_percentage_1h_in_currency": 0.5417960108698266
  },
  {
    "id": "ethereum",
    "symbol": "eth",
    "name": "Ethereum",
    "image": "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880",
    "current_price": 1665.77,
    "market_cap": 200350122130,
    "market_cap_rank": 2,
    "fully_diluted_valuation": 200350122130,
    "total_volume": 17837102578,
    "high_24h": 1740.45,
    "low_24h": 1576.13,
    "price_change_24h": -72.46219643711424,
    "price_change_percentage_24h": -4.16874,
    "market_cap_change_24h": -8380255661.24292,
    "market_cap_change_percentage_24h": -4.01487,
    "circulating_supply": 120053867.802792,
    "total_supply": 120053867.802792,
    "max_supply": null,
    "ath": 4878.26,
    "ath_change_percentage": -66.0567,
    "ath_date": "2021-11-10T14:24:19.604Z",
    "atl": 0.432979,
    "atl_change_percentage": 382330.37702,
    "atl_date": "2015-10-20T00:00:00.000Z",
    "roi": {
      "times": 84.42439813112641,
      "currency": "btc",
      "percentage": 8442.439813112642
    },
    "last_updated": "2023-08-18T17:55:31.484Z",
    "price_change_percentage_1h_in_currency": 0.35275545224400423
  },
  {
    "id": "dogecoin",
    "symbol": "doge",
    "name": "Dogecoin",
    "image": "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256",
    "current_price": 0.063043,
    "market_cap": 8870909328,
    "market_cap_rank": 9,
    "fully_diluted_valuation": 8870917527,
    "total_volume": 920916555,
    "high_24h": 0.06617,
    "low_24h": 0.059074,
    "price_change_24h": -0.002630593181056129,
    "price_change_percentage_24h": -4.00555,
    "market_cap_change_24h": -348710282.8266792,
    "market_cap_change_percentage_24h": -3.78226,
    "circulating_supply": 140642886383.705,
    "total_supply": 140643016383.705,
    "max_supply": null,
    "ath": 0.731578,
    "ath_change_percentage": -91.4437,
    "ath_date": "2021-05-08T05:08:23.458Z",
    "atl": 0.0000869,
    "atl_change_percentage": 71929.1567,
    "atl_date": "2015-05-06T00:00:00.000Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:37.068Z",
    "price_change_percentage_1h_in_currency": 0.6779365911087883
  },
  {
    "id": "pepe",
    "symbol": "pepe",
    "name": "Pepe",
    "image": "https://assets.coingecko.com/coins/images/29850/large/pepe-token.jpeg?1682922725",
    "current_price": 0.00000109,
    "market_cap": 457764967,
    "market_cap_rank": 85,
    "fully_diluted_valuation": 457764967,
    "total_volume": 152023532,
    "high_24h": 0.00000119,
    "low_24h": 0.00000101,
    "price_change_24h": -8.7555141682e-8,
    "price_change_percentage_24h": -7.43169,
    "market_cap_change_24h": -35197303.04990578,
    "market_cap_change_percentage_24h": -7.13996,
    "circulating_supply": 420690000000000,
    "total_supply": 420690000000000,
    "max_supply": 420690000000000,
    "ath": 0.00000431,
    "ath_change_percentage": -74.69954,
    "ath_date": "2023-05-05T16:50:45.302Z",
    "atl": 5.5142e-8,
    "atl_change_percentage": 1876.18149,
    "atl_date": "2023-04-18T02:14:41.591Z",
    "roi": null,
    "last_updated": "2023-08-18T17:55:42.230Z",
    "price_change_percentage_1h_in_currency": 2.3233363583072553
  }
]
]
*/